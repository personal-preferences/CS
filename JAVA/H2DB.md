<aside> ğŸ’¡ H2 Database(ì´í•˜ H2DB)ëŠ” Javaë¡œ ì‘ì„±ëœ ì˜¤í”ˆ ì†ŒìŠ¤ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ(RDBMS)ì…ë‹ˆë‹¤. H2DBëŠ” ë‚´ì¥í˜• ëª¨ë“œì™€ ì„œë²„ ëª¨ë“œë¥¼ ì§€ì›í•˜ë©°, ë¹ ë¥´ê³  ê²½ëŸ‰í™”ëœ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ê°œë°œ ë° í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

</aside>

# íŠ¹ì§•

1. ë‚´ì¥í˜• ëª¨ë“œì™€ ì„œë²„ ëª¨ë“œ ì§€ì›
   - **ë‚´ì¥í˜• ëª¨ë“œ**: ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë™ì¼í•œ JVM ë‚´ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆì–´, ë³„ë„ì˜ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ì„¤ì¹˜ê°€ í•„ìš” ì—†ìŠµë‹ˆë‹¤. ê°œë°œ ë° í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤.
   - **ì„œë²„ ëª¨ë“œ**: ë…ë¦½ëœ ì„œë²„ë¡œ ë™ì‘í•˜ì—¬ ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ê°€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë™ì‹œì— ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. ë¹ ë¥¸ ì„±ëŠ¥
   - H2DBëŠ” ë§¤ìš° ë¹ ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì•Œë ¤ì ¸ ìˆìœ¼ë©°, ë¹ ë¥¸ ì‘ë‹µ ì‹œê°„ê³¼ ë†’ì€ ì²˜ë¦¬ ì†ë„ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
3. ê²½ëŸ‰í™”
   - ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ í¬ê¸°ê°€ ì‘ê³ , ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì ì–´ ê²½ëŸ‰í™”ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.
4. SQL í˜¸í™˜ì„±
   - ëŒ€ë¶€ë¶„ì˜ SQL í‘œì¤€ì„ ì§€ì›í•˜ë©°, ë‹¤ë¥¸ ì£¼ìš” ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ(MySQL, PostgreSQL ë“±)ê³¼ë„ ë†’ì€ í˜¸í™˜ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.
5. Java ê¸°ë°˜
   - ìˆœìˆ˜ Javaë¡œ ì‘ì„±ë˜ì–´ ë‹¤ì–‘í•œ ìš´ì˜ì²´ì œì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë©°, Java ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ì˜ í†µí•©ì´ ìš©ì´í•©ë‹ˆë‹¤.
6. ë‹¤ì–‘í•œ ì €ì¥ ëª¨ë“œ
   - ë©”ëª¨ë¦¬ ëª¨ë“œ: ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥ë˜ë©°, ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì‹œ ë°ì´í„°ê°€ ì‚¬ë¼ì§‘ë‹ˆë‹¤.
   - ë””ìŠ¤í¬ ëª¨ë“œ: ë°ì´í„°ê°€ íŒŒì¼ ì‹œìŠ¤í…œì— ì €ì¥ë˜ì–´ ì˜êµ¬ì ìœ¼ë¡œ ë³´ê´€ë©ë‹ˆë‹¤.
7. ì›¹ ì½˜ì†” ì œê³µ
   - ë‚´ì¥ ì›¹ ì„œë²„ë¥¼ í†µí•´ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³  ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì›¹ ì½˜ì†”ì„ ì œê³µí•©ë‹ˆë‹¤.

# ì„¤ì •í•˜ê¸°

### Gradle

```sql
plugins {
    id 'java'
}

group 'com.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    testRuntimeOnly 'com.h2database:h2:2.1.214'
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'
}

test {
    useJUnitPlatform()
}
```

### YML

```sql
spring:
  datasource:
    url: jdbc:h2:mem:testdb          # H2 ë°ì´í„°ë² ì´ìŠ¤ì˜ JDBC URL ì„¤ì •, ë©”ëª¨ë¦¬ ëª¨ë“œ ì‚¬ìš©
    driver-class-name: org.h2.Driver # H2 ë“œë¼ì´ë²„ í´ë˜ìŠ¤ ì´ë¦„ ì„¤ì •
    username: sa                     # ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì ì´ë¦„ ì„¤ì •
    password:                        # ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ ì„¤ì • (ë¹„ì›Œë‘ )
    initialization-mode: always      # ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” ëª¨ë“œ ì„¤ì •
  h2:
    console:
      enabled: true                  # H2 ì½˜ì†”ì„ í™œì„±í™”
      path: /h2-console              # H2 ì½˜ì†”ì— ì ‘ì†í•  ê²½ë¡œ ì„¤ì •
```

### ì‹¤í–‰ í™•ì¸

ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ H2DBê°€ ë©”ëª¨ë¦¬ ëª¨ë“œì—ì„œ ì‹¤í–‰ë˜ê³ , `application.yml` íŒŒì¼ì— ì„¤ì •í•œ ëŒ€ë¡œ H2 ì½˜ì†”ì„ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•œ í›„ ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8080/h2-console`ë¡œ ì ‘ì†í•˜ì—¬ ì„¤ì •í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![img](https://file.notion.so/f/f/73b72b54-ef99-4cf9-b18e-778678e237ad/33c66f14-c0e8-40c9-8525-dbfcc665c4e7/Untitled.png?id=a5dbed01-5556-4c35-b293-4723a91dd8ab&table=block&spaceId=73b72b54-ef99-4cf9-b18e-778678e237ad&expirationTimestamp=1722470400000&signature=2u7uxiEoHvux57f26NP1cTCIWP-WTZXMpAJ1LWPNnmQ&downloadName=Untitled.png)

# í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ H2DB ì‚¬ìš©í•˜ê¸°

### ì™œ mariaDB ë‘ê³  H2DB?

ì‹¤ì œ ì‚¬ìš©ì¤‘ì¸ mariaDBë¥¼ ì‚¬ìš©í–ˆì„ ë•Œì˜ ë¬¸ì œì ì´ ìˆìŠµë‹ˆë‹¤.

1. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” í•­ìƒ mariaDBì™€ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼í•œë‹¤.
2. ì‹¤ì œ DBë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦°ë‹¤.
3. ë°ì´í„°ë² ì´ìŠ¤ì˜ ìƒíƒœê°€ í•­ìƒ ë™ì¼í•˜ì§€ ì•Šë‹¤. (ê³„ì† ì‚¬ìš©ì¤‘ì¸ DBì´ë¯€ë¡œ ì´ˆê¸°ìƒíƒœê°€ ì•„ë‹ˆë‹¤)
4. í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë¹„ìš©ì´ ë°œìƒí•œë‹¤.

ì´ëŸ¬í•œ ë¬¸ì œì ë“¤ì„ H2DBë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ í•´ì†Œê°€ ëœë‹¤.

### mariaDBì™€ H2DB ë‘ ê°€ì§€ë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ê¸°

```
gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.mariadb.jdbc:mariadb-java-client'
    
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testRuntimeOnly 'com.h2database:h2'
}
application.yml
spring:
  datasource:
    url: jdbc:mariadb://localhost:3306/your_database
    username: your_username
    password: your_password
    driver-class-name: org.mariadb.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MariaDBDialect
```

`application-test.yml` (í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •ìš© yml)

```sql
spring:
  datasource:
    url: jdbc:h2:mem:testdb;MODE=MariaDB   # MODE=MariaDBë¥¼ ì‚¬ìš©í•˜ì—¬ H2ê°€ MariaDBì™€ ìœ ì‚¬í•˜ê²Œ ë™ì‘
    username: sa
    password:
    driver-class-name: org.h2.Driver
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
  h2:
    console:
      enabled: true
í…ŒìŠ¤íŠ¸ ì½”ë“œ
@SpringBootTest
@ActiveProfiles("test")
public class YourTestClass {
    // í…ŒìŠ¤íŠ¸ ì½”ë“œ
}
```